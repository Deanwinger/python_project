# NetWork

## Questions

### 1. TCP/IP分别在模型的哪一层， 简单介绍下7层模型;

`图解TCP/IP`

### 2. 三次握手和四次挥手

`unix 网络编程`

### 3. TCP/UDP区别，和适用场景？

`图解TCP/IP`

>1. 面向连接vs无连接, TCP 有三次握手的连接过程，UDP 适合消息的多播发布，从单个点向多个点传输消息可靠性
>2. TCP 利用握手， 确认（ACK） 和重传的机制，提供了可靠性保证，而 UDP 可能丢失，不知道到底有没有接收
>3. 有序性：TCP 利用序列号保证了消息包的的顺序交付，到达可能无序，但 TCP 会排序
>4. 速度：TCP 速度比较慢，因为要创建连接，保证消息的可靠性和有序性等，需要做额外的很多事情，UDP 更适合对速度比较敏感的应用，比如在线视频媒体, 多人在线游戏等。

### 4. http一次连接的全过程：你来说下从用户发起request——到用户接收到response； 

### 5. 画出http协议的格式

`csapp上第十一章，简洁明了`

### 6. restful介绍

- REST即Representational State Transfer的缩写，可译为"表现层状态转化”。REST最大的几个特点为：资源、统一接口、URI和无状态。
    - 资源：它可以是一段文本、一张图片、一首歌曲、一种服务，总之就是一个具体的实在。
    - 统一接口： 据的元操作，即CRUD(create, read, update和delete,即数据的增删查改)操作，分别对应于HTTP方法：GET用来获取资源，POST用来新建资源（也可以用于更新资源），PUT用来更新资源，DELETE用来删除资源，这样就统一了数据操作的接口，仅通过HTTP方法，就可以完成对数据的所有增删查改工作。
    - uri： 可以用一个URI（统一资源定位符）指向资源，即每个URI都对应一个特定的资源。要获取这个资源，访问它的URI就可以，因此URI就成了每一个资源的地址或识别符。
    - 无状态：所谓无状态的，即所有的资源，都可以通过URI定位，而且这个定位与其他资源无关，也不会因为其他资源的变化而改变。

        1. 在无状态的Web服务中，每一个Web请求都必须是独立的，请求之间是完全分离的。Server没有保存Client的状态信息，所以Client发送的请求必须包含有能够让服务器理解请求的全部信息，包括自己的状态信息。使得一个Client的Web请求能够被任何可用的Server应答，从而将Web系统扩展到大量的Client中。

        2. 有状态和无状态的区别，举个简单的例子说明一下。如查询员工的工资，如果查询工资是需要登录系统，进入查询工资的页面，执行相关操作后，获取工资的多少，则这种情况是有状态的，因为查询工资的每一步操作都依赖于前一步操作，只要前置操作不成功，后续操作就无法执行；如果输入一个url即可得到指定员工的工资，则这种情况是无状态的，因为获取工资不依赖于其他资源或状态，且这种情况下，员工工资是一个资源，由一个url与之对应，可以通过HTTP中的GET方法得到资源，这是典型的RESTful风格。



### 7. 如何实现断点续传

### 8. tcp和ip包头常见有哪些字段

`图解TCP/IP`

### 9、tcp粘包是怎么回事，如何处理？udp有粘包吗？

### 10、http连接方式。get和post的区别， 还有其他方法熟悉不？

- get, post, put, head, delete
- options: 请求服务器告知其支持的方法

### 11. 使用http状态码处理错误

~~~
    200 – OK – 一切正常
    201 – created – 新的资源已经成功创建
    202 — accepted 请求已经接受，但服务器还没有对其执行任何动作
    204 – No Content 响应首部包含若干首部和一个状态行， 但没有实体的主体部分，主要用与在浏览器不转为显示新文档的情况下，对其进行更新
    304 – Not Modified – 客户端使用缓存数据

    400 – Bad Request – 请求无效，需要附加细节解释如 "JSON无效"
    401 – Unauthorized – 请求需要用户验证
    403 – Forbidden – 服务器已经理解了请求，但是拒绝服务或这种请求的访问是不允许的。
    404 – Not found – 没有发现该资源

    405 — 该url不支持这种方法
    502 – Bad GateWay 作为代理或者网关使用的服务器从请求响应链的下一条链路收到了一条伪响应

    500 – Internal Server Error – API开发者应该避免这种错误。
~~~

### 12. 为什么网络层（IP）和链路层（mac）都需要地址
`P307， 自顶向下`

### 13、A与B建立了正常连接后，从未相互发过数据，这个时候B突然机器重启，问A此时的tcp状态处于什么状态？如何消除服务器程序中的这个状态？
`Unix 网络编程`

### 14、time_wait是什么情况？出现过多的close_wait可能是什么原因？

### 15、阻塞和非阻塞socket在send、recv函数上的行为表现，异步connect函数的写法？
`Unix 网络编程`

### 16、一些socket选项的用法，nagle / keepalive / linger等选项的区别

### 17. 域名怎么解析的；

### 18. https的建立链接过程, https的传输数据是否是对称加密， https的证书在哪颁发

### 19. TCP如何保证数据的可靠传输的（子问题延伸，拥塞控制慢开始、拥塞避免快重传、滑动窗口协议、停止等待协议、超时重传机制，最好都能掌握）

### 20. nginx如何处理连接

### 21. nginx如何做性能优化

### 22. Nginx超时怎么办
