# DDIA

## NOTES

### **第一章. 可靠性， 可扩展性，可维护性**
- 可靠性
    - pass

- 可扩展性
    - 描述负载： Twitter的例子(非常值得一读)

- 可维护性
    - pass



###  **第二章. 数据模型和查询语言**
`TO BE FINISHED`
> summary： 讨论了数据模型和查询语言， 即程序员将数据录入数据库的格式，以及再次要回数据的机制；

### **第三章. 存储与检索**
> summary: 数据库如何存储我们提供的数据，以及如何在我们需要时重新找回数据；为了高效查找数据库中的特定的键的值，我们需要一个数据结构： 索引，本章将介绍一系列的索引结构，索引背后的大致思想是， 保存一些额外的元数据作为看路标， 帮助你找到想要的数据；索引是主数据衍生的附加结构， 而维护额外的结构会产生开销（每次写入和更新都要更新索引）；

- 哈希索引
~~~
    1. 实施中需要考虑的东西：
        a.文件格式
        b.删除记录
        c.崩溃恢复
        d.部分写入记录
        e.并发控制
    2. 局限：
        a. 散列表必须能放进内存；
        b. 范围查询效率不高；
~~~

- SSTables(Sorted String Table)
`To Be Finished`
~~~
    1.
    2.
~~~

- B树
~~~
    1. 为防止数据库崩溃损失，B树通常会带一个额外的磁盘数据结构，预写式日志（write-ahead-log, 也称为redo log）， 这是一个仅追加的文件，当数据库在崩溃后恢复时，用来使B树恢复到一致的状态；
    2. B树的优化；
~~~

- 比较B树和LSM树
    - LSM树的优点
    ~~~
    1. B树索引必须两次写入每一段数据， 一次预先写入日志，一次写入树页面本身；
    2. LSM树通常比B树支持更高的写入吞吐量；
    3. LSM树可以被压缩的更好，比B树在磁盘上产生更小的文件；
    ~~~
    - LSM树的缺点
    ~~~
    1. 压缩过程可能干扰到正在运行的读写操作；
    2. 磁盘的有限写入带宽，需要在初始写入（记录和刷新内存表）和在后台运行的压缩线程之间共享；
    ~~~
