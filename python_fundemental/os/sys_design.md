
#### 高并发下的订单号生成

1，在订单生成过程之前就需要产生好不重叠的订单号。以免在订单生成的过程中浪费太多资源。把这部分的负载从订单生成中剥离。

2、该结构分二级缓存的一级缓存在内存中。由十个独立空间对象被抽取，好处在于并发过程中排队不至于过于紧张（线程池概念）。

3、该结构分二级缓存的第二级别缓存在SSD中。主要负责生产订单号并确保唯一。在一级缓存订单号存量不足的情况下被内存上的一级缓存读取。



这样一来：

订单生成就与订单号的生成分离了，只负责调用其他线程生成好的订单号。

调用与生成也分离了，生成需要一致判断，调用需要分发